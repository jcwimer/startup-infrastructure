---

ssh_key_path: {{ rke_ssh_key_location }}

cluster_name: rke_cluster_name
ignore_docker_version: true
system_images:
    kubernetes: rancher/hyperkube:v1.15.5-rancher1

nodes:
  {% for node in groups['kube-masters'] %}

  - address: {{node}}
    name: {{node}}
    user: {{standard_user}}
    role:
    - controlplane
    - etcd
  {% endfor %}
  {% for node in groups['kube-workers'] %}

  - address: {{node}}
    name: {{node}}
    user: {{standard_user}}
    role:
    - worker
  {% endfor %}

authentication:
    strategy: x509
    sans:
      - "kubernetes.{{ root_domain }}"